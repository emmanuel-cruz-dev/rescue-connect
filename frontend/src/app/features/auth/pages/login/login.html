<p-toast />

<div class="flex items-center justify-center min-h-screen dark:bg-green-900/30 px-4">
  <div class="w-full max-w-lg">
    <p-card>
      <ng-template pTemplate="header">
        <div class="text-center pt-6 pb-2">
          <h1 class="text-3xl font-bold">Iniciar Sesión</h1>
          <p class="text-gray-600 dark:text-gray-400 mt-2">
            Ingresa tus credenciales para continuar
          </p>
        </div>
      </ng-template>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
        <div class="flex flex-col gap-1">
          <p-floatlabel variant="on">
            <p-iconfield>
              <p-inputicon class="pi pi-envelope" />
              <input
                pInputText
                id="email"
                formControlName="email"
                type="email"
                class="w-full"
                [invalid]="isInvalid('email')"
              />
            </p-iconfield>
            <label for="email">Correo Electrónico*</label>
          </p-floatlabel>
          @if (isInvalid('email')) { @if (loginForm.get('email')?.errors?.['required']) {
          <p-message severity="error" size="small" variant="simple">
            El correo electrónico es requerido
          </p-message>
          } @if (loginForm.get('email')?.errors?.['email']) {
          <p-message severity="error" size="small" variant="simple">
            Por favor ingresa un correo válido
          </p-message>
          } }
        </div>

        <div class="text-end -mb-3 -mt-2">
          <a href="#" class="text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400">
            ¿Olvidaste tu contraseña?
          </a>
        </div>
        <div class="flex flex-col gap-1">
          <p-floatlabel variant="on">
            <p-iconfield>
              <p-inputicon class="pi pi-lock" />
              <p-password
                id="password"
                formControlName="password"
                [toggleMask]="true"
                [feedback]="false"
                class="w-full"
                inputStyleClass="w-full"
                [invalid]="isInvalid('password')"
              />
            </p-iconfield>
            <label for="password">Contraseña*</label>
          </p-floatlabel>
          @if (isInvalid('password')) {
          <p-message severity="error" size="small" variant="simple">
            La contraseña es requerida
          </p-message>
          }
        </div>

        <p-button type="submit" label="Iniciar Sesión" styleClass="w-full" [loading]="isLoading" />

        <div class="flex items-center justify-center gap-2">
          <p class="text-gray-600 dark:text-gray-400">¿No tienes una cuenta?</p>
          <a
            routerLink="/auth/register"
            class="text-blue-600 hover:text-blue-700 dark:text-blue-400 font-medium"
          >
            Regístrate aquí
          </a>
        </div>
      </form>
    </p-card>
  </div>
</div>
